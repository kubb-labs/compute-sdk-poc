/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/fetch";
import type { PostSharegroupTokensMutationRequest, PostSharegroupTokensMutationResponse, PostSharegroupTokensPathParams } from "../types/PostSharegroupTokens.ts";
import type { RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/fetch";

function getPostSharegroupTokensUrl(apiVersion: PostSharegroupTokensPathParams["apiVersion"]) {
  const res = { method: 'POST', url: `/${apiVersion}/images/sharegroups/tokens` as const }  
  return res
}

/**
 * @description Creates a single-use membership token for users who want to join a share group with custom images.- Before creating a token, get the share group's UUID from its owner. The owner can run [List share groups](https://techdocs.akamai.com/linode-api/reference/get-sharegroups) or [Get a share group](https://techdocs.akamai.com/linode-api/reference/get-sharegroup) to get the group's UUID. If needed, [Create a share group](https://techdocs.akamai.com/linode-api/reference/post-sharegroups) and share the UUID with the user.- Share the `token` from the response with the share group owner. The owner can later use the token to [Add members to a share group](https://techdocs.akamai.com/linode-api/reference/post-sharegroup-members) and manage the users' membership within the group.<<LB>>---- __CLI__.    ```    linode-cli image-sharegroups token-create --label "my_token" --valid_for_sharegroup_uuid "abc123"    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    images:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Create a token
 * {@link /:apiVersion/images/sharegroups/tokens}
 */
export async function postSharegroupTokens(apiVersion: PostSharegroupTokensPathParams["apiVersion"], data: PostSharegroupTokensMutationRequest, config: Partial<RequestConfig<PostSharegroupTokensMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostSharegroupTokensMutationResponse, ResponseErrorConfig<Error>, PostSharegroupTokensMutationRequest>({ method : "POST", url : getPostSharegroupTokensUrl(apiVersion).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}