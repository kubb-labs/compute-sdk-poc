/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import type { RequestConfig, ResponseErrorConfig } from "../.kubb/fetch.ts";
import type { PostNodeBalancerNodeMutationRequest, PostNodeBalancerNodeMutationResponse, PostNodeBalancerNodePathParams } from "../types/PostNodeBalancerNode.ts";
import { fetch } from "../.kubb/fetch.ts";

function getPostNodeBalancerNodeUrl(nodeBalancerId: PostNodeBalancerNodePathParams["nodeBalancerId"], configId: PostNodeBalancerNodePathParams["configId"]) {
  const res = { method: 'POST', url: `/nodebalancers/${nodeBalancerId}/configs/${configId}/nodes` as const }  
  return res
}

/**
 * @description Creates a backend node that can receive traffic for the NodeBalancer configuration. Requests are routed to backend nodes on the specified port based on their `status`. The configurable fields for the backend node depend on the chosen protocol and whether the node is located within a Linode VPC.> ðŸš§>> You can configure UDP on the same NodeBalancer that also uses TCP, HTTP, or HTTPS, but only when managing it through the API. If UDP is configured and you make changes to the TCP, HTTP or HTTPS settings in Cloud Manager, the existing UDP configuration will be overwritten. This is because Cloud Manager doesn't currently support UDP.<<LB>>---- __CLI: TCP, HTTP, HTTPS__.    ```    linode-cli nodebalancers node-create \  12345 4567 \  --address 10.0.0.45:80 \  --label node54321 \  --weight 50 \  --mode accept \  --subnet_id 1    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __CLI: UDP__.    ```    linode-cli nodebalancers node-create \  12345 4567 \  --address 192.168.210.120:80 \  --label node54321 \  --weight 50    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    nodebalancers:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Create a node
 * {@link /nodebalancers/:nodeBalancerId/configs/:configId/nodes}
 */
export async function postNodeBalancerNode(nodeBalancerId: PostNodeBalancerNodePathParams["nodeBalancerId"], configId: PostNodeBalancerNodePathParams["configId"], data: PostNodeBalancerNodeMutationRequest, config: Partial<RequestConfig<PostNodeBalancerNodeMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostNodeBalancerNodeMutationResponse, ResponseErrorConfig<Error>, PostNodeBalancerNodeMutationRequest>({ method : "POST", url : getPostNodeBalancerNodeUrl(nodeBalancerId, configId).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}