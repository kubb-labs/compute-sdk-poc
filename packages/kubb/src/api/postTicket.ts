/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/fetch";
import type { PostTicketMutationRequest, PostTicketMutationResponse, PostTicketPathParams } from "../types/PostTicket.ts";
import type { RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/fetch";

function getPostTicketUrl(apiVersion: PostTicketPathParams["apiVersion"]) {
  const res = { method: 'POST', url: `/${apiVersion}/support/tickets` as const }  
  return res
}

/**
 * @description Open a support ticket. A ticket can only target a single, specific entity. For example, for an issue with a specific Linode, open a ticket and target it using its `linode_id`. Leave all other entities out of the request or set them to `null`.<<LB>>---- __CLI__.    ```    linode-cli tickets create \  --description "I'm having trouble setting the root password on my Linode. I tried following the instructions but something is not working and I'm not sure what I'm doing wrong. Can you please help me figure out how I can reset it?" \  --linode_id 123 \  --summary "Having trouble resetting root password on my Linode"    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    account:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Open a support ticket
 * {@link /:apiVersion/support/tickets}
 */
export async function postTicket(apiVersion: PostTicketPathParams["apiVersion"], data: PostTicketMutationRequest, config: Partial<RequestConfig<PostTicketMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostTicketMutationResponse, ResponseErrorConfig<Error>, PostTicketMutationRequest>({ method : "POST", url : getPostTicketUrl(apiVersion).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}