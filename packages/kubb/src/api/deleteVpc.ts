/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/fetch";
import type { DeleteVpcMutationResponse, DeleteVpcPathParams } from "../types/DeleteVpc.ts";
import type { RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/fetch";

function getDeleteVpcUrl(apiVersion: DeleteVpcPathParams["apiVersion"], vpcId: DeleteVpcPathParams["vpcId"]) {
  const res = { method: 'DELETE', url: `/${apiVersion}/vpcs/${vpcId}` as const }  
  return res
}

/**
 * @description Delete a single VPC and all of its Subnets.- The User accessing this operation must have `read_write` grants to the VPC.- A successful request triggers a `vpc_delete` event and `subnet_delete` events for each deleted VPC Subnet.- All of the VPC's Subnets must be eligible for deletion. Accordingly, all Configuration Profile Interfaces that each Subnet is assigned to must first be deleted. If those Interfaces are active, the associated Linodes must first be shut down before they can be removed. If any Subnet cannot be deleted, then neither the VPC nor any of its Subnets are deleted.- You can't delete a VPC if a NodeBalancer is attached to one of its subnets.<<LB>>---- __CLI__.    ```    linode-cli vpcs delete $vpcId    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    vpc:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Delete a VPC
 * {@link /:apiVersion/vpcs/:vpcId}
 */
export async function deleteVpc(apiVersion: DeleteVpcPathParams["apiVersion"], vpcId: DeleteVpcPathParams["vpcId"], config: Partial<RequestConfig> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const res = await request<DeleteVpcMutationResponse, ResponseErrorConfig<Error>, unknown>({ method : "DELETE", url : getDeleteVpcUrl(apiVersion, vpcId).url.toString(), ... requestConfig })  
  return res.data
}