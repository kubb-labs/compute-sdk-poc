/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/fetch";
import type { PostLinodeInterfaceMutationRequest, PostLinodeInterfaceMutationResponse, PostLinodeInterfacePathParams } from "../types/PostLinodeInterface.ts";
import type { RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/fetch";

function getPostLinodeInterfaceUrl(apiVersion: PostLinodeInterfacePathParams["apiVersion"], linodeId: PostLinodeInterfacePathParams["linodeId"]) {
  const res = { method: 'POST', url: `/${apiVersion}/linode/instances/${linodeId}/interfaces` as const }  
  return res
}

/**
 * @description __Beta__ Creates an interface for the Linode. This interface links to the Linode, rather than to a configuration profile. You can create, delete, or update interfaces when the Linode is either powered off or in the process of being created.Firewalls are applied to the Linode interface, not directly to the Linode itself. You can add, delete, or update these firewalls at any time.This operation requires the `read_write` [grant](https://techdocs.akamai.com/linode-api/reference/get-user-grants) for the Linode.A successful request triggers an `interface_create` [event](https://techdocs.akamai.com/linode-api/reference/get-events).You need to set one interface type: `vpc`, `public`, or `vlan`. Omit the others or set them to `null`.A Linode can have up to three interfaces:- Only one `public` interface is allowed on a Linode.- Multiple `vlan` interfaces are allowed, provided that they belong to distinct VLANs, which have unique `vlan_labels`.- One `vpc` interface is allowed.The Linode must be located in a region that supports Linode interfaces. Run [Get a region](https://techdocs.akamai.com/linode-api/reference/get-region) to see if interfaces are supported in that region.<<LB>>---- __CLI: Public interface__.    ```    linode-cli linodes interface-add $linodeId \  --firewall_id 123 \  --default_route.ipv4 true \  --default_route.ipv6 true \  --public.ipv4.addresses '[{"address": "192.0.2.141", "primary": true}, {"address": "auto", "primary": false}]' \  --public.ipv6.ranges '[{"range": "2001:0db8::1/64"}, {"range": "/64"}]'    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __CLI: VLAN interface__.    ```    linode-cli linodes interface-add $linodeId \  --vlan.vlan_label my-vlan \  --vlan.ipam_address 192.168.2.2/24    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __CLI: VPC interface__.    ```    linode-cli linodes interface-add $linodeId \  --firewall_id 123 \  --default_route.ipv4 true \  --vpc.subnet_id 321 \  --vpc.ipv4.addresses '[{"address": "10.0.0.1", "primary": true, "nat_1_1_address": "auto"}, {"address": "auto", "primary": false, "nat_1_1_address": null}]' \  --vpc.ipv4.ranges '[{"range": "/28"}, {"range": "10.11.12.0/24"}]'    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    linodes:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Add a Linode interface
 * {@link /:apiVersion/linode/instances/:linodeId/interfaces}
 */
export async function postLinodeInterface(apiVersion: PostLinodeInterfacePathParams["apiVersion"], linodeId: PostLinodeInterfacePathParams["linodeId"], data?: PostLinodeInterfaceMutationRequest, config: Partial<RequestConfig<PostLinodeInterfaceMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostLinodeInterfaceMutationResponse, ResponseErrorConfig<Error>, PostLinodeInterfaceMutationRequest>({ method : "POST", url : getPostLinodeInterfaceUrl(apiVersion, linodeId).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}