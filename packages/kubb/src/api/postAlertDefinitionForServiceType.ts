/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import type { RequestConfig, ResponseErrorConfig } from "../.kubb/fetch.ts";
import type { PostAlertDefinitionForServiceTypeMutationRequest, PostAlertDefinitionForServiceTypeMutationResponse, PostAlertDefinitionForServiceTypePathParams } from "../types/PostAlertDefinitionForServiceType.ts";
import { fetch } from "../.kubb/fetch.ts";

function getPostAlertDefinitionForServiceTypeUrl(serviceType: PostAlertDefinitionForServiceTypePathParams["serviceType"]) {
  const res = { method: 'POST', url: `/monitor/services/${serviceType}/alert-definitions` as const }  
  return res
}

/**
 * @description __Beta__ Create a new alert definition for a specific service type. Akamai refers to these as `user` alerts. You need `read_only` access to the [scope](https://techdocs.akamai.com/linode-api/reference/get-started#oauth-reference) for the selected `serviceType`. Check out this [workflow](https://techdocs.akamai.com/linode-api/reference/create-a-logs-stream) for the basics on set up of a destination and a stream to gather logs.> ðŸ“˜>> This operation is beta. Call it using the `v4beta` path in its URL.<<LB>>---- __OAuth scopes__.    ```    monitor:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)- __CLI__.    ```    linode-cli alerts definition-create \--channel_ids 546 \--label CPU usage threshold maximum \--rule_criteria.metric cpu_usage \--rule_criteria.operator gt \--rule_criteria.threshold 80 \--severity 2--trigger_conditions.evaluation_period_seconds 300 \--trigger_conditions.polling_interval_seconds 300 \--trigger_conditions.trigger_occurrences 3 \    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)
 * @summary Create an alert definition
 * {@link /monitor/services/:serviceType/alert-definitions}
 */
export async function postAlertDefinitionForServiceType(serviceType: PostAlertDefinitionForServiceTypePathParams["serviceType"], data: PostAlertDefinitionForServiceTypeMutationRequest, config: Partial<RequestConfig<PostAlertDefinitionForServiceTypeMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostAlertDefinitionForServiceTypeMutationResponse, ResponseErrorConfig<Error>, PostAlertDefinitionForServiceTypeMutationRequest>({ method : "POST", url : getPostAlertDefinitionForServiceTypeUrl(serviceType).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}