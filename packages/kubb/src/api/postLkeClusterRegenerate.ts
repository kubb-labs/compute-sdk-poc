/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/fetch";
import type { PostLkeClusterRegenerateMutationRequest, PostLkeClusterRegenerateMutationResponse, PostLkeClusterRegeneratePathParams } from "../types/PostLkeClusterRegenerate.ts";
import type { RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/fetch";

function getPostLkeClusterRegenerateUrl(apiVersion: PostLkeClusterRegeneratePathParams["apiVersion"], clusterId: PostLkeClusterRegeneratePathParams["clusterId"]) {
  const res = { method: 'POST', url: `/${apiVersion}/lke/clusters/${clusterId}/regenerate` as const }  
  return res
}

/**
 * @description Regenerate the Kubeconfig file and/or the service account token for a Cluster.This is a helper operation that allows performing both the [Delete a Kubeconfig](https://techdocs.akamai.com/linode-api/reference/delete-lke-cluster-kubeconfig) and the [Delete a service token](https://techdocs.akamai.com/linode-api/reference/delete-lke-service-token) operations with a single request.When using this operation, at least one of `kubeconfig` or `servicetoken` is required.> ðŸ“˜>> When regenerating a service account token, the cluster's control plane components and Linode CSI drivers are also restarted and configured with the new token. High availability clusters shouldn't experience any disruption, while standard clusters may experience brief control plane downtime while components are restarted.<<LB>>---- __CLI__.    ```    linode-cli lke regenerate 12345 \    --kubeconfig true \    --servicetoken true    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    lke:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Regenerate a Kubernetes cluster
 * {@link /:apiVersion/lke/clusters/:clusterId/regenerate}
 */
export async function postLkeClusterRegenerate(apiVersion: PostLkeClusterRegeneratePathParams["apiVersion"], clusterId: PostLkeClusterRegeneratePathParams["clusterId"], data?: PostLkeClusterRegenerateMutationRequest, config: Partial<RequestConfig<PostLkeClusterRegenerateMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostLkeClusterRegenerateMutationResponse, ResponseErrorConfig<Error>, PostLkeClusterRegenerateMutationRequest>({ method : "POST", url : getPostLkeClusterRegenerateUrl(apiVersion, clusterId).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}