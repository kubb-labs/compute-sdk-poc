/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import type { RequestConfig, ResponseErrorConfig } from "../.kubb/fetch.ts";
import type { PostLinodeInstanceMutationRequest, PostLinodeInstanceMutationResponse } from "../types/PostLinodeInstance.ts";
import { fetch } from "../.kubb/fetch.ts";

function getPostLinodeInstanceUrl() {
  const res = { method: 'POST', url: `/linode/instances` as const }  
  return res
}

/**
 * @description Creates a Linode Instance on your Account. In order for this request to complete successfully, your User must have the `add_linodes` grant. Creating a new Linode will incur a charge on your Account.Linodes can be created using one of the available Types. Run [List Linode types](https://techdocs.akamai.com/linode-api/reference/get-linode-types) to get more information about each Type's specs and cost.Linodes can be created in any one of our available Regions, which are accessible from the [List regions](https://techdocs.akamai.com/linode-api/reference/get-regions) operation.In an effort to fight spam, Linode restricts outbound connections on ports 25, 465, and 587 on all Linodes for new accounts created after November 5th, 2019. For more information, see our guide on [Running a Mail Server](https://www.linode.com/docs/guides/running-a-mail-server/).__Important__. You must be an unrestricted User in order to add or modify tags on Linodes.Linodes can be created in a number of ways:- Using a Linode Public Image distribution or a Private Image you created based on another Linode.  - Run the [List images](https://techdocs.akamai.com/linode-api/reference/get-images) operation with authentication to view all available Images.  - The Linode will be `running` after it completes `provisioning`.  - A default config with two Disks, one being a 512 swap disk, is created.    - `swap_size` can be used to customize the swap disk size.  - Requires a `root_pass` be supplied to use for the root User's Account.  - It is recommended to supply SSH keys for the root User using the `authorized_keys` field.  - You may also supply a list of usernames via the `authorized_users` field.    - These users must have an SSH Key associated with your Profile first. See the [Add an SSH key](https://techdocs.akamai.com/linode-api/reference/post-add-ssh-key)) operation for more information.- Using cloud-init with [Metadata](https://www.linode.com/docs/products/compute/compute-instances/guides/metadata/).  - Automate system configuration and software installation by providing a base-64 encoded [cloud-config](https://www.linode.com/docs/products/compute/compute-instances/guides/metadata-cloud-config/) file.  - Requires a compatible Image. You can determine compatible Images by checking for `cloud-init` under `capabilities` when running [List images](https://techdocs.akamai.com/linode-api/reference/get-images).  - Requires a compatible Region.  You can determine compatible Regions by checking for `Metadata` under `capabilities` when running [List regions](https://techdocs.akamai.com/linode-api/reference/get-regions).- Using a StackScript.  - Run [List StackScripts](https://techdocs.akamai.com/linode-api/reference/get-stack-scripts) for a list of available StackScripts.  - The Linode will be `running` after it completes `provisioning`.  - Requires a compatible Image to be supplied.    - Run [Get a StackScript](https://techdocs.akamai.com/linode-api/reference/get-stack-script) for compatible Images.  - Requires a `root_pass` be supplied to use for the root User's Account.  - It is recommended to supply SSH keys for the root User using the `authorized_keys` field.  - You may also supply a list of usernames via the `authorized_users` field.    - These users must have an SSH Key associated with your Profile first. See [Add an SSH key](https://techdocs.akamai.com/linode-api/reference/post-add-ssh-key) for more information.- Using one of your other Linode's backups.  - You must create a Linode large enough to accommodate the Backup's size.  - The Disks and Config will match that of the Linode that was backed up.  - The `root_pass` will match that of the Linode that was backed up.- Attached to a private VLAN.  - Review the `interfaces` property of the [Request Body Schema](https://techdocs.akamai.com/linode-api/reference/post-linode-instance) for details.  - For more information, see our guide on [Getting Started with VLANs](https://www.linode.com/docs/products/networking/vlans/get-started/).- Create an empty Linode.  - The Linode will remain `offline` and must be manually started.    - Run [Boot a Linode](https://techdocs.akamai.com/linode-api/reference/post-boot-linode-instance).  - Disks and Configs must be created manually.  - This is only recommended for advanced use cases.Depending on your [account settings](https://techdocs.akamai.com/linode-api/reference/get-account-settings), you can choose between legacy configuration interfaces or Linode interfaces when creating a Linode. Only one type of interface is allowed per Linode. The `interface_generation` field lets you select one interface type for new Linodes when both legacy and Linode interfaces options are available on your account. If a Linode is configured with a Linode interface, legacy configuration interfaces can no longer be used on that Linode.<<LB>>---- __CLI__.    ```    linode-cli linodes create \  --label linode123 \  --root_pass aComplex@Password \  --booted true \  --stackscript_id 10079 \  --stackscript_data '{"gh_username": "linode"}' \  --region us-east \  --disk_encryption enabled\  --placement_group.id 528 \  --type g6-standard-2 \  --authorized_keys "ssh-rsa AAAA_valid_public_ssh_key_123456785== user@their-computer" \  --authorized_users "myUser" \  --authorized_users "secondaryUser" \  --metadata.user_data "I2Nsb3VkLWNvbmZpZw==" \  --firewall_id 9000    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    linodes:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Create a Linode
 * {@link /linode/instances}
 */
export async function postLinodeInstance(data: PostLinodeInstanceMutationRequest, config: Partial<RequestConfig<PostLinodeInstanceMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostLinodeInstanceMutationResponse, ResponseErrorConfig<Error>, PostLinodeInstanceMutationRequest>({ method : "POST", url : getPostLinodeInstanceUrl().url.toString(), data : requestData, ... requestConfig })  
  return res.data
}