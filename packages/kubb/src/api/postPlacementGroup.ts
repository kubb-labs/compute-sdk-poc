/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/fetch";
import type { PostPlacementGroupMutationRequest, PostPlacementGroupMutationResponse, PostPlacementGroupPathParams } from "../types/PostPlacementGroup.ts";
import type { RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/fetch";

function getPostPlacementGroupUrl(apiVersion: PostPlacementGroupPathParams["apiVersion"]) {
  const res = { method: 'POST', url: `/${apiVersion}/placement/groups` as const }  
  return res
}

/**
 * @description Creates a placement group on your account. Placement groups disperse your Linodes across physical machines (hosts) in one of our compute regions. Depending on your workload requirements, you may need your Linodes to follow specific strategies:- __Grouped together__. You may want them placed close together to reduce latency between Linodes that are used for an application or workload.- __Spread apart__. You may want to disperse them across several hosts to support high availability, for example when required for failover.To run this operation, your user needs the `add_linodes` [grant](https://techdocs.akamai.com/linode-api/reference/get-user-grants). Talk to your local account administrator about grant management for your user.> ðŸ‘ There's a tutorial>> We offer an example API [workflow](https://techdocs.akamai.com/linode-api/reference/create-a-placement-group) you can follow to create a placement group and add Linodes to it.<<LB>>---- __CLI__.    ```    linode-cli placement group-create \  --label PG_Miami_failover \  --region us-mia \  --placement_group_type "anti-affinity:local" \  --placement_group_policy strict    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    linodes:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Create a placement group
 * {@link /:apiVersion/placement/groups}
 */
export async function postPlacementGroup(apiVersion: PostPlacementGroupPathParams["apiVersion"], data: PostPlacementGroupMutationRequest, config: Partial<RequestConfig<PostPlacementGroupMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostPlacementGroupMutationResponse, ResponseErrorConfig<Error>, PostPlacementGroupMutationRequest>({ method : "POST", url : getPostPlacementGroupUrl(apiVersion).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}