/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/fetch";
import type { PostServiceTransferMutationRequest, PostServiceTransferMutationResponse, PostServiceTransferPathParams } from "../types/PostServiceTransfer.ts";
import type { RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/fetch";

function getPostServiceTransferUrl(apiVersion: PostServiceTransferPathParams["apiVersion"]) {
  const res = { method: 'POST', url: `/${apiVersion}/account/service-transfers` as const }  
  return res
}

/**
 * @description Creates a transfer request for the specified services. A request can contain any of the specified service types and any number of each service type. At this time, only Linodes can be transferred.When created successfully, a confirmation email is sent to the account that created this transfer containing a transfer token and instructions on completing the transfer.When a transfer is [accepted](https://techdocs.akamai.com/linode-api/reference/post-accept-service-transfer), the requested services are moved to the receiving account. Linode services will not experience interruptions due to the transfer process. Backups for Linodes are transferred as well.DNS records that are associated with requested services will not be transferred or updated. Please ensure that associated DNS records have been updated or communicated to the recipient prior to the transfer.A transfer can take up to three hours to complete once accepted. When a transfer is completed, billing for transferred services ends for the sending account and begins for the receiving account.This operation can only be accessed by the unrestricted users of an account.There are several conditions that you need to meet to successfully create a transfer request:1. The account creating the transfer can't have a past due balance or active Terms of Service violation.1. The service needs to be owned by the account that is creating the transfer.1. The service can't be assigned to another Service Transfer that is pending or that's been accepted and is incomplete.1. Linodes can't:    - be assigned to a NodeBalancer, Firewall, VLAN, VPC, or Managed Service.    - have any attached Block Storage Volumes.    - have any shared IP addresses.    - have any assigned /32, /56, /64, or /116 IPv6 ranges.<<LB>>---- __CLI__.    ```    linode-cli service-transfers \  create \  --entities.linodes 111 \  --entities.linodes 222    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    account:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Request a service transfer
 * {@link /:apiVersion/account/service-transfers}
 */
export async function postServiceTransfer(apiVersion: PostServiceTransferPathParams["apiVersion"], data: PostServiceTransferMutationRequest, config: Partial<RequestConfig<PostServiceTransferMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostServiceTransferMutationResponse, ResponseErrorConfig<Error>, PostServiceTransferMutationRequest>({ method : "POST", url : getPostServiceTransferUrl(apiVersion).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}