/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import type { RequestConfig, ResponseErrorConfig } from "../.kubb/fetch.ts";
import type { PostFirewallDeviceMutationRequest, PostFirewallDeviceMutationResponse, PostFirewallDevicePathParams } from "../types/PostFirewallDevice.ts";
import { fetch } from "../.kubb/fetch.ts";

function getPostFirewallDeviceUrl(firewallId: PostFirewallDevicePathParams["firewallId"]) {
  const res = { method: 'POST', url: `/networking/firewalls/${firewallId}/devices` as const }  
  return res
}

/**
 * @description Creates a firewall device, which assigns a firewall to a service (referred to as the device's `entity`) and applies the firewall's rules to the device.- Currently, devices with `linode`, `linode_interface`, and `nodebalancer` entity types are accepted.  - The `linode` type is not allowed for Linodes using Linode interfaces.  - The `linode_interface` type is not allowed for legacy config interfaces. For VPC and public legacy config profile interfaces, the firewall is applied through the `linode` device.- Firewalls only apply to inbound TCP traffic to NodeBalancers.- A firewall can be assigned to multiple services at a time.- A service can have one assigned firewall at a time.- Assigned Linodes must not have any ongoing live migrations.- A `firewall_device_add` event is generated when the firewall device is added successfully.<<LB>>---- __CLI__.    ```    linode-cli firewalls device-create 123 \  --id 456 \  --type "linode"    ```    [Learn more...](https://techdocs.akamai.com/cloud-computing/docs/getting-started-with-the-linode-cli)- __OAuth scopes__.    ```    firewall:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Create a firewall device
 * {@link /networking/firewalls/:firewallId/devices}
 */
export async function postFirewallDevice(firewallId: PostFirewallDevicePathParams["firewallId"], data: PostFirewallDeviceMutationRequest, config: Partial<RequestConfig<PostFirewallDeviceMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostFirewallDeviceMutationResponse, ResponseErrorConfig<Error>, PostFirewallDeviceMutationRequest>({ method : "POST", url : getPostFirewallDeviceUrl(firewallId).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}