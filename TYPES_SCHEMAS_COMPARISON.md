# Individual Types and Schemas Comparison

## Overview

This document provides a detailed comparison of individual types and schemas generated by openapi-ts (Hey API) versus Kubb.

## Type Generation Comparison

### 1. Basic Type Structure

#### openapi-ts Approach

**File organization:**
- All types in a single file: `types.gen.ts` (67k lines)
- Uses `type` keyword
- Inline nested types
- Clean JSDoc comments

**Example - Account type:**
```typescript
/**
 * Account object.
 */
export type Account = {
    readonly active_promotions?: Array<{
        credit_monthly_cap?: string;
        credit_remaining?: string;
        description?: string;
        expire_dt?: string;
        image_url?: string;
        service_type?: 'all' | 'backup' | 'blockstorage' | 'db_mysql' | ...;
        summary?: string;
        this_month_credit_remaining?: string;
    }>;
    readonly active_since?: string;
    address_1?: string;
    address_2?: string;
    readonly balance?: number;
    readonly balance_uninvoiced?: number;
    billing_source?: 'akamai' | 'linode';
    readonly capabilities?: Array<string>;
    city?: string;
    company?: string;
    country?: string;
    readonly credit_card?: {
        expiry?: string;
        last_four?: string;
    };
    email?: string;
    readonly euuid?: string;
    first_name?: string;
    last_name?: string;
    phone?: string;
    state?: string;
    tax_id?: string;
    zip?: string;
};
```

**Key features:**
- ‚úÖ Inline enums (`'all' | 'backup' | ...`)
- ‚úÖ `readonly` modifiers on read-only fields
- ‚úÖ Clean nested objects
- ‚úÖ Optional fields with `?`
- ‚úÖ Simple and readable

#### Kubb Approach

**File organization:**
- Individual file per type: `types/Account.ts`
- Uses `interface` keyword (configurable to `type`)
- Separate enum constants
- Detailed JSDoc with `@type` annotations

**Example - Account interface:**
```typescript
/**
 * @description Account object.
 */
export interface Account {
    /**
     * @type array | undefined
     */
    readonly active_promotions?: {
        /**
         * @description The amount available to spend per month.
         * @type string | undefined
         */
        credit_monthly_cap?: string;
        /**
         * @description The total amount of credit left for this promotion.
         * @type string | undefined
         */
        credit_remaining?: string;
        // ... more fields
        /**
         * @description The service to which this promotion applies.
         * @type string | undefined
         */
        service_type?: ActivePromotionsServiceTypeEnumKey;
        // ... rest of fields
    }[];
    /**
     * @description __Read-only__ The date and time the account was activated.
     * @type string | undefined, date-time
     */
    readonly active_since?: string;
    // ... all other fields with detailed JSDoc
}
```

**With separate enum constants:**
```typescript
export const activePromotionsServiceTypeEnum = {
    "all": "all",
    "backup": "backup",
    "blockstorage": "blockstorage",
    "db_mysql": "db_mysql",
    // ... more values
} as const;

export type ActivePromotionsServiceTypeEnumKey = 
    (typeof activePromotionsServiceTypeEnum)[keyof typeof activePromotionsServiceTypeEnum];
```

**Key features:**
- ‚úÖ More detailed JSDoc annotations
- ‚úÖ Separate enum constants (can be used at runtime)
- ‚úÖ `@type` tags for each field
- ‚ö†Ô∏è More verbose
- ‚ö†Ô∏è Enums defined separately, not inline

### 2. Request/Response Types

#### openapi-ts: Structured Request Data

**Pattern:**
```typescript
export type GetAccountData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/account';
};

export type GetAccountErrors = {
    default: {
        errors: Array<{
            field: string;
            reason: string;
        }>;
    };
};

export type GetAccountResponses = Account;
```

**Features:**
- Clear separation of request parts (body, path, query)
- `never` for unused parts
- Errors as union types
- Clean response types

#### Kubb: Separate Types Per Operation

**Pattern:**
```typescript
// In types/GetAccount.ts
export interface GetAccount200 {
    readonly active_promotions: { ... }[];
    readonly active_since: string;
    address_1: string;
    // ... full response definition
}

export interface GetAccountError {
    errors: {
        field: string;
        reason: string;
    }[];
}

export type GetAccountQueryResponse = GetAccount200;

export type GetAccountQuery = {
    Response: GetAccount200;
    Errors: any;
};
```

**Features:**
- Operation-specific response types (e.g., `GetAccount200`)
- Separate error types
- Wrapper types for queries
- ‚ö†Ô∏è Response duplicates shared types (less DRY)

### 3. POST Request Bodies

#### openapi-ts: Inline Body Type

```typescript
export type PostLinodeInstanceData = {
    body: {
        authorized_keys?: Array<string>;
        authorized_users?: Array<string>;
        booted?: boolean;
        disk_encryption?: 'enabled' | 'disabled';
        image?: string | null;
        // ... many more fields
    };
    path?: never;
    query?: never;
    url: '/linode/instances';
};
```

**Features:**
- Body type defined inline
- Clear structure
- All request data in one place

#### Kubb: Separate Request Body Type

```typescript
// Enums defined separately
export const scheduleDayEnum = {
    "Sunday": "Sunday",
    "Monday": "Monday",
    // ...
} as const;

export type ScheduleDayEnumKey = 
    (typeof scheduleDayEnum)[keyof typeof scheduleDayEnum];

// Request body as separate interface
export interface PostLinodeInstanceBody {
    authorized_keys?: string[];
    authorized_users?: string[];
    booted?: boolean;
    disk_encryption?: 'enabled' | 'disabled';
    image?: string | null;
    // ... many more fields
}

// Path params, query params as separate types
export interface PostLinodeInstancePathParams { ... }
export interface PostLinodeInstanceQueryParams { ... }
```

**Features:**
- More granular type definitions
- Runtime-usable enum objects
- Separated concerns
- ‚ö†Ô∏è More files and types to manage

## Schema (Zod) Comparison

### 1. Basic Schema Structure

#### openapi-ts Schema

**File organization:**
- All schemas in single file: `zod.gen.ts` (25k lines)
- Schema naming: `${name}Schema`
- Uses Zod v4 syntax

**Example - Account schema:**
```typescript
export const accountSchema = z.object({
    active_promotions: z.optional(z.array(z.object({
        credit_monthly_cap: z.optional(z.string()),
        credit_remaining: z.optional(z.string()),
        description: z.optional(z.string()),
        expire_dt: z.optional(z.string()),
        image_url: z.optional(z.string()),
        service_type: z.optional(z.enum([
            'all',
            'backup',
            'blockstorage',
            'db_mysql',
            'ip_v4',
            'linode',
            // ... more values
        ])),
        summary: z.optional(z.string()),
        this_month_credit_remaining: z.optional(z.string())
    }).readonly()).readonly()),
    active_since: z.optional(z.iso.datetime().readonly()),
    address_1: z.optional(z.string().max(64)),
    address_2: z.optional(z.string().max(64)),
    balance: z.optional(z.number().readonly()),
    balance_uninvoiced: z.optional(z.number().readonly()),
    billing_source: z.optional(z.enum(['akamai', 'linode'])),
    capabilities: z.optional(z.array(z.string()).readonly()),
    city: z.optional(z.string().max(24)),
    company: z.optional(z.string().max(128)),
    country: z.optional(z.string()),
    credit_card: z.optional(z.object({
        expiry: z.optional(z.string()),
        last_four: z.optional(z.string())
    }).readonly()),
    email: z.optional(z.string().max(128)),
    euuid: z.optional(z.uuid().readonly()),
    first_name: z.optional(z.string().max(50)),
    last_name: z.optional(z.string().max(50)),
    phone: z.optional(z.string().max(32)),
    state: z.optional(z.string().max(24)),
    tax_id: z.optional(z.string().max(25)),
    zip: z.optional(z.string())
});
```

**Key features:**
- ‚úÖ Inline enums in schemas
- ‚úÖ Validation constraints (`.max()`, `.uuid()`, `.datetime()`)
- ‚úÖ `.readonly()` modifiers
- ‚úÖ All in one file
- ‚úÖ No descriptions (schemas are for validation)

#### Kubb Schema

**File organization:**
- Individual file per schema: `schemas/accountSchema.ts`
- Same naming convention: `${name}Schema`
- Uses Zod v4 syntax

**Example - Account schema:**
```typescript
import { z } from "zod/v4";

export const accountSchema = z.object({
    "active_promotions": z.optional(z.array(z.object({
        "credit_monthly_cap": z.optional(z.string().describe("The amount available to spend per month.")),
        "credit_remaining": z.optional(z.string().describe("The total amount of credit left for this promotion.")),
        "description": z.optional(z.string().describe("A detailed description of this promotion.")),
        "expire_dt": z.optional(z.string().describe("When this promotion's credits expire.")),
        "image_url": z.optional(z.string().describe("The location of an image for this promotion.")),
        "service_type": z.optional(z.enum([
            "all", "backup", "blockstorage", "db_mysql", "ip_v4", 
            "linode", "linode_disk", "linode_memory", "longview", 
            "managed", "nodebalancer", "objectstorage", 
            "placement_group", "transfer_tx"
        ]).describe("The service to which this promotion applies.")),
        "summary": z.optional(z.string().describe("Short details of this promotion.")),
        "this_month_credit_remaining": z.optional(z.string().describe("The amount of credit left for this month for this promotion."))
    }).describe("Promotion details...")),
    "active_since": z.optional(z.string().datetime().describe("__Read-only__ The date and time the account was activated.")),
    "address_1": z.optional(z.string().max(64).describe("The first line of this account's billing address.")),
    "address_2": z.optional(z.string().max(64).describe("The second line of this account's billing address.")),
    "balance": z.optional(z.number().describe("__Read-only__ This account's balance, in US dollars.")),
    "balance_uninvoiced": z.optional(z.number().describe("__Read-only__ This account's current estimated invoice in US dollars. This is not your final invoice balance. Transfer charges are not included in the estimate.")),
    "billing_source": z.optional(z.enum(["akamai", "linode"]).describe("__Read-only__ The source of service charges for this account. Accounts that are associated with Akamai-specific customers return a value of `akamai`. All other accounts return a value of `linode`.")),
    "capabilities": z.optional(z.array(z.string()).describe("__Read-only__ The Akamai Cloud Computing services your account supports.")),
    "city": z.optional(z.string().max(24).describe("The city for this account's `address`.")),
    "company": z.optional(z.string().max(128).describe("The company name assigned to this account. This value can't include the characters, `<` `>` `(` `)` `\"` `=`.")),
    "country": z.optional(z.string().describe("The two-letter ISO 3166 country code for this account's `address`.")),
    "credit_card": z.optional(z.object({
        "expiry": z.optional(z.string().describe("The expiration month and year of the `credit_card`.")),
        "last_four": z.optional(z.string().describe("The last four digits of the `credit_card` assigned to this account."))
    }).describe("__Read-only__ The credit card information assigned to this account.")),
    "email": z.optional(z.string().max(128).describe("The email address of the person assigned to this account.")),
    "euuid": z.optional(z.uuid().describe("__Read-only__ An external unique identifier for this account.")),
    "first_name": z.optional(z.string().max(50).describe("The first name of the person assigned to this account. This value can't include the characters, `<` `>` `(` `)` `\"` `=`.")),
    "last_name": z.optional(z.string().max(50).describe("The last name of the person assigned to this account. This value can't include the characters, `<` `>` `(` `)` `\"` `=`.")),
    "phone": z.optional(z.string().max(32).describe("The phone number assigned to this account.")),
    "state": z.optional(z.string().max(24).describe("The state or province for the `address` set for your account, if applicable.\n\n- If the `address` is in the United States (US) or Canada (CA), this is the two-letter ISO 3166 code for the state or province.\n\n- If it's a US military `address`, this is the abbreviation for that territory. This includes `AA` for Armed Forces Americas (excluding Canada), `AE` for Armed Forces Africa, Europe, Middle East, and Canada, or `AP` for Armed Forces Pacific.\n\n- If outside the US or CA, this is the province associated with the account's `address`.")),
    "tax_id": z.optional(z.string().max(25).describe("The tax identification number (TIN) assigned to this account, used for tax calculations. A TIN is set by the national authorities in your `country`, based on your `address_1`, and it may be named differently between countries. Set to an empty string (`\"\"`) if a TIN doesn't apply or for countries that don't collect tax.\n\n> üìò\n>\n> This value is externally validated. If the validation is successful, a `tax_id_valid` [event](https://techdocs.akamai.com/linode-api/reference/get-events) is triggered. If unsuccessful, a `tax_id_invalid` event is triggered and an error response is issued for an operation that included it.")),
    "zip": z.optional(z.string().describe("The zip code for this account's `address`.\n\n- It can only contain ASCII letters, numbers, and dashes (`-`).\n\n- It can't contain more than nine letter or number characters."))
}).describe("Account object.");
```

**Key features:**
- ‚úÖ Includes `.describe()` for all fields (great for error messages)
- ‚úÖ Same validation constraints (`.max()`, `.uuid()`, `.datetime()`)
- ‚úÖ Inline enums
- ‚úÖ Individual files (easier to navigate if you want granularity)
- ‚ö†Ô∏è More verbose due to descriptions
- ‚ö†Ô∏è Import from `"zod/v4"` (non-standard path)

### 2. Validation Differences

Both tools generate similar validation:

| Validation | openapi-ts | Kubb |
|------------|-----------|------|
| String max length | ‚úÖ `.max(64)` | ‚úÖ `.max(64)` |
| UUID format | ‚úÖ `.uuid()` | ‚úÖ `.uuid()` |
| DateTime format | ‚úÖ `.iso.datetime()` | ‚úÖ `.datetime()` |
| Enum values | ‚úÖ `.enum([...])` | ‚úÖ `.enum([...])` |
| Optional fields | ‚úÖ `.optional()` | ‚úÖ `.optional()` |
| Number type | ‚úÖ `.number()` | ‚úÖ `.number()` |
| Array type | ‚úÖ `.array()` | ‚úÖ `.array()` |
| Object nesting | ‚úÖ `.object({...})` | ‚úÖ `.object({...})` |
| Readonly | ‚úÖ `.readonly()` | ‚ùå Not used |
| Descriptions | ‚ùå Not included | ‚úÖ `.describe(...)` |

## Key Differences Summary

### Types

| Aspect | openapi-ts | Kubb |
|--------|-----------|------|
| **File organization** | Single file (67k lines) | Individual files (1000+) |
| **Type keyword** | `type` | `interface` (configurable) |
| **Enum style** | Inline unions | Separate const objects |
| **JSDoc style** | Simple comments | Detailed `@type` tags |
| **Readability** | Clean and concise | Verbose and detailed |
| **Runtime enums** | ‚ùå No | ‚úÖ Yes (const objects) |
| **DRY principle** | ‚úÖ Better (shared types) | ‚ö†Ô∏è Some duplication |

### Schemas

| Aspect | openapi-ts | Kubb |
|--------|-----------|------|
| **File organization** | Single file (25k lines) | Individual files (1000+) |
| **Descriptions** | ‚ùå Not included | ‚úÖ `.describe()` everywhere |
| **Readonly** | ‚úÖ Used | ‚ùå Not used |
| **Import path** | `zod` | `zod/v4` |
| **Verbosity** | Concise | Verbose (due to descriptions) |
| **Error messages** | Standard Zod | Better (due to descriptions) |

## Recommendations

### Choose openapi-ts types/schemas if you want:
- ‚úÖ Single consolidated file (easier imports)
- ‚úÖ Cleaner, more concise code
- ‚úÖ Better adherence to DRY principle
- ‚úÖ Standard TypeScript patterns

### Choose Kubb types/schemas if you want:
- ‚úÖ Granular file control (one file per type)
- ‚úÖ Runtime-accessible enum constants
- ‚úÖ Better Zod error messages (via descriptions)
- ‚úÖ More detailed JSDoc annotations
- ‚úÖ Easier to understand for beginners (more explicit)

### Hybrid Approach:
Use openapi-ts for production code but reference Kubb's:
- Enum const objects (if you need runtime enums)
- Zod schema descriptions (for better error messages)
- Detailed JSDoc (for documentation)

## Conclusion

Both tools generate **functionally equivalent** types and schemas with similar validation rules. The main differences are:

1. **Organization**: openapi-ts consolidates, Kubb separates
2. **Style**: openapi-ts is concise, Kubb is verbose
3. **Enums**: openapi-ts uses inline unions, Kubb creates const objects
4. **Descriptions**: Kubb includes them in schemas, openapi-ts doesn't

For most use cases, **openapi-ts generates cleaner code**, but Kubb's approach has advantages for specific scenarios (runtime enums, detailed error messages).
