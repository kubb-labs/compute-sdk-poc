/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@kubb/plugin-client/clients/fetch";
import type { PostShareIpv4SMutationRequest, PostShareIpv4SMutationResponse, PostShareIpv4SPathParams } from "../types/PostShareIpv4S.ts";
import type { RequestConfig, ResponseErrorConfig } from "@kubb/plugin-client/clients/fetch";

function getPostShareIpv4SUrl(apiVersion: PostShareIpv4SPathParams["apiVersion"]) {
  const res = { method: 'POST', url: `/${apiVersion}/networking/ipv4/share` as const }  
  return res
}

/**
 * @description This operation is equivalent to [Share IP addresses](https://techdocs.akamai.com/linode-api/reference/post-share-ips).Configure shared IPs.IP sharing allows IP address reassignment (also referred to as IP failover) from one Linode to another if the primary Linode becomes unresponsive. This means that requests to the primary Linode's IP address can be automatically rerouted to secondary Linodes at the configured shared IP addresses.IP failover requires configuration of a [BGP based failover service](https://techdocs.akamai.com/cloud-computing/docs/configure-failover-on-a-compute-instance) within the internal system of the primary Linode.> ðŸ“˜>> A public IPv4 address can't be shared if it's configured for a 1:1 NAT on a legacy configuration profile VPC interface or on a Linode VPC interface.<<LB>>---- __OAuth scopes__.    ```    ips:read_writelinodes:read_write    ```    [Learn more...](https://techdocs.akamai.com/linode-api/reference/get-started#oauth)
 * @summary Configure IPv4 sharing
 * {@link /:apiVersion/networking/ipv4/share}
 */
export async function postShareIpv4S(apiVersion: PostShareIpv4SPathParams["apiVersion"], data: PostShareIpv4SMutationRequest, config: Partial<RequestConfig<PostShareIpv4SMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<PostShareIpv4SMutationResponse, ResponseErrorConfig<Error>, PostShareIpv4SMutationRequest>({ method : "POST", url : getPostShareIpv4SUrl(apiVersion).url.toString(), data : requestData, ... requestConfig })  
  return res.data
}